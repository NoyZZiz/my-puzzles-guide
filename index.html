<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puzzles and Conquest Guide</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="calculator-styles.css">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VYP41CV8E4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-VYP41CV8E4');
    </script>
    <!-- Google AdSense for earnings (replace ca-pub-XXXXXXXXXX) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXX"
            crossorigin="anonymous"></script>
</head>
<body>
    <!-- AdSense ad slot after header -->
    <ins class="adsbygoogle"
         style="display:block; margin:12px 0;"
         data-ad-client="ca-pub-XXXXXXXXXX"
         data-ad-slot="1234567890"
         data-ad-format="auto"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <header>
        <h1 class="neon-text">Welcome to the Puzzles and Conquest Guide!</h1>
        <p class="neon-text">Explore the best strategies and tips with Noyzzing and many others!</p>
        <nav class="navigation-buttons">
            <button class="main-button">Troop Strength Guide</button>
            <button class="main-button">Talent Memory Guide</button>
            <button class="main-button" onclick="location.href='military-expedition-guide/index.html'">Military Expedition Guide</button>
            <button class="main-button" onclick="location.href='troop-resources-generator/index.html'">Troop & Resource Calculator</button>
        </nav>
    </header>
    <main>
        <!-- ... all your original sections as provided above ... -->
        <!-- (Copy your original <main> content exactly as you posted it) -->
        <!-- Do NOT change any of your guides/content! -->

        <section class="guides">
            <h2>Featured Guides</h2>
            <div class="guide-container">
                <div class="guide-card">
                    <h3>Troop Strength Guide</h3>
                    <p>Master your army's power and dominate the battlefield.</p>
                    <button>Read More</button>
                </div>
                <div class="guide-card">
                    <h3>Talent Memory Guide</h3>
                    <p>Optimize your skills and unlock your full potential.</p>
                    <button>Read More</button>
                </div>
                <div class="guide-card">
                    <h3>Troop Calculator</h3>
                    <p>Plan your strategy with our advanced troop calculator.</p>
                    <button onclick="location.href='troop-resources-generator/index.html'">Use Calculator</button>
                </div>
                <div class="guide-card">
                    <h3>Chat with NoyzBot</h3>
                    <p>Get instant answers to your game-related questions.</p>
                    <button onclick="toggleChat()">Start Chat</button>
                </div>
            </div>
        </section>

        <!-- ... keep all your other sections exactly as they were ... -->

        <section class="about">
            <h2>About Noyzzing</h2>
            <p>Welcome to the official Puzzles and Conquest guide, curated by Noyzzing. As a dedicated gamer and strategist, I created this platform to provide in-depth knowledge and actionable strategies to help players master the complexities of the game.</p>
        </section>
        <section class="subscribe">
            <h2>Stay Updated</h2>
            <p>Subscribe to our newsletter for the latest guides and tips!</p>
            <form>
                <input type="email" placeholder="Enter your email">
                <button type="submit">Subscribe</button>
            </form>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Noyzzing | All Rights Reserved</p>
        <nav>
            <a href="index.html">Home</a>
            <a href="privacy-policy.html">Privacy Policy</a>
            <a href="terms-of-service.html">Terms of Service</a>
        </nav>
    </footer>

    <!-- AdSense ad slot before closing body for more earnings -->
    <ins class="adsbygoogle"
         style="display:block; margin:12px 0;"
         data-ad-client="ca-pub-XXXXXXXXXX"
         data-ad-slot="9876543210"
         data-ad-format="auto"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <!-- Floating Chat Bot Button -->
    <button id="open-chat-btn" style="position:fixed;bottom:32px;right:24px;z-index:9999;" onclick="toggleChat()">Chat with NoyzBot</button>
    <!-- Chatbox -->
    <div id="chatbox" class="chatbox" style="display:none;position:fixed;bottom:90px;right:24px;z-index:9999;width:350px;background:#1e1e2f;color:#fff;border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,.5);">
        <div id="chat-header" class="chat-header" style="display:flex;align-items:center;gap:10px;padding:8px 15px;background:#26264C;">
            <img src="assets/images/noyzbot-logo.png" alt="NoyzBot Logo" class="chat-logo" style="width:32px;height:32px;border-radius:7px;">
            <span>NoyzBot</span>
            <button onclick="toggleChat()" style="margin-left:auto;background:none;border:none;color:#fff;font-size:20px;cursor:pointer;">×</button>
        </div>
        <div id="chat-messages" class="chat-messages" style="height:170px;overflow-y:auto;padding:10px 8px;"></div>
        <div style="display:flex;gap:6px;padding:10px;">
            <input type="text" id="user-input" placeholder="Type your message..." style="flex:1;background:#14142b;color:#fff;border:1px solid #333;border-radius:5px;padding:10px;" autocomplete="off">
            <button id="send-btn" onclick="sendMessage()" style="background:#5f27cd;color:#fff;padding:10px 14px;border:none;border-radius:7px;">Send</button>
        </div>
    </div>
    <!-- Smarter AI chat (Hugging Face) + fallback -->
    <script>
    function toggleChat() {
      var chatbox = document.getElementById('chatbox');
      chatbox.style.display = chatbox.style.display === 'none' ? 'block' : 'none';
    }
    function addMessage(msg, who) {
      var container = document.getElementById('chat-messages');
      var div = document.createElement('div');
      div.className = who === "user" ? "msg user" : "msg bot";
      div.style.margin = '7px 0';
      div.style.padding = '8px 12px';
      div.style.borderRadius = '8px';
      div.style.background = who === "user" ? "#363F63" : "#26264C";
      div.textContent = msg;
      container.appendChild(div);
      container.scrollTop = container.scrollHeight;
    }
    async function sendMessage() {
      var input = document.getElementById('user-input');
      var msg = input.value.trim();
      if (!msg) return;
      addMessage(msg, "user");
      input.value = '';
      addMessage("NoyzBot is thinking...", "bot");
      try {
        const response = await fetch("https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ inputs: msg })
        });
        const data = await response.json();
        const bots = document.querySelectorAll('.msg.bot');
        let reply =
          Array.isArray(data) && data[0]?.generated_text ? data[0].generated_text :
          data?.generated_text ? data.generated_text :
          null;
        bots[bots.length - 1].textContent = reply
            ? reply
            : "Sorry, the AI is busy. Here's a strategy: " + [
                'Focus on cavalry-heavy marches for fast map control.',
                'Use mages to break through infantry walls.',
                'Research Military II, then Training Speed and March Capacity.',
                'Upgrade hero gear before mass training new units.',
                'Save speedups for big event rewards.'
              ][Math.floor(Math.random() * 5)];
      } catch (e) {
        const bots = document.querySelectorAll('.msg.bot');
        if (bots.length)
          bots[bots.length - 1].textContent = "NoyzBot can’t reply right now. Try again soon!";
      }
    }
    document.getElementById('open-chat-btn').onclick = toggleChat;
    document.getElementById('send-btn').onclick = sendMessage;
    document.getElementById('user-input').addEventListener('keydown', function(e) {
      if (e.key === 'Enter') sendMessage();
    });
    </script>
    <!-- Disqus Comment Section -->
    <section id="comments">
        <h2>Leave a Comment</h2>
        <div id="disqus_thread"></div>
    </section>
    <script>
        (function() {
            var d = document, s = d.createElement('script');
            s.src = 'https://noyzzing.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <script id="dsq-count-scr" src="https://noyzzing.disqus.com/count.js" async></script>
    <script src="script.js"></script>

    <!-- (Keep all your original troop/hero/talent sections below here, exactly as you wrote them) -->
    <!-- ... Paste from your old file as needed! ... -->

</body>
</html>

